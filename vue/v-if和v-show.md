### 前言



本篇文章聊聊`v-if`和`v-show`，`v-if`和`v-show`的作用相信大家都很熟悉了，所以我们主要聊聊`v-if`和`v-show`的区别，这也是在面试中很常见的一个问题



### 介绍

`v-if`和`v-for`是`vue`中的常用指令，通过真假值来操作`dom`，从而实现元素的显示、隐藏状态的切换。

- `v-if` 指令用于条件性地渲染一块内容。这块内容只会在指令的表达式返回 `true` 值的时候被渲染。

  > `<h2 v-if="isShow">姓名：{{data.name}}--年龄：{{data.age}}</h2>`

- `v-show`指令的用法和v-if一样，也是会在指令的表达式返回 true 值的时候被渲染。

  > `<h2 v-show="isShow">姓名：{{data.name}}--年龄：{{data.age}}</h2>`

### 区别

1. 展示形式不同

   - v-if是创建一个`dom`节点

     > 是真正意义上的条件渲染，因为它会伴随着`dom`节点的建立与销毁，因此它会造成更大的性能开销
     >
     > 

   - `v-show`是显示与隐藏节点

     >它只是简单的切换`css`中`display`属性为`block`和`none`，将元素隐藏与显示，所以它造成的性能开销更小

2. 使用场景不同

   - 初次加载`v-if`要比`v-show`好

     > 当`v-if`为`false`时，页面不会加载`v-if`中元素，所以首屏加载会更快一点

   - 频繁切换`v-show`要比`v-if`好

     > 创建和删除的开销很大，而显示与隐藏开销相对小很多

3. 演示

   - `v-if`

     ![GIF5](https://liuxueji.oss-cn-guangzhou.aliyuncs.com/GIF5.gif)

   - `v-show`

     ![](https://liuxueji.oss-cn-guangzhou.aliyuncs.com/GIF6.gif)

4. 注意

   `v-show`和`v-if`都会引起`重绘`和`重排`，我们可以根据上述的实例图看出，不管是删除`DOM`还是操作`display`，元素都会脱离文档流，从而导致页面重排

   > 重绘：样式改变（`background`、`color`...）
   >
   > 回流：改变元素位置（`left`、`top`）、显示与隐藏元素
   >
   > 我们应当注意的是：**重绘不一定导致重排，但重排一定会导致重绘**

### 总结

在写项目时，要合理使用`v-if`和`v-show`，如果需要非常频繁地切换，则使用 `v-show` 较好，如果在运行时条件很少改变，则使用 `v-if` 较好，这样才能达到性能的最大化。