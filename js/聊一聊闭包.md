首先什么是闭包呢？

- 闭包（closure）指有权访问另一个函数作用域中变量的函数。 ----- JavaScript 高级程序设计

闭包可以解决什么样的问题？

- 闭包可以让内部作用域访问到外部作用域的局部变量

- 闭包可以解决的问题：

  > 当有四个li时，我们通过循环遍历四个li，通过给它们设定点击事件，并输出对应i，会出现一个问题，它们并不会按顺序输出，而是都输出4。这是由于js机制同步优先级大于异步，所以先将for循环执行完了采取执行for里面的。我们可以通过闭包的形式解决，在循环体中，通过设置立即函数，将for循环拿到的i当成变量的形式传递给立即执行函数 ，就可以解决这种情况。当然也可以通过let，因为let会产生一个块级作用域{}，let设计的目的就是解决var的不足之处

  ```
  var lis = document.getElementsByTagName('li')
  for(var i=0;i<lis.length;i++){
  	(function(i){
  		lis[i].onclick = function(){
  			alert(i)
  		}
  	})(i)
  }
  ```

闭包的缺点？

- 闭包会将变量驻留在内存中，造成内存损耗问题

  > 解决办法是：把闭包的函数设置为null

- 内存泄漏的问题：其实内存写了只存在ie，其他谷歌、火狐浏览器没有内存泄露的问题（好像是用标记清除法）

  > 其实我觉得平时用闭包并没有产生内存泄露，因为内存泄漏的定义是，你用不到的（访问不到的）变量，但是它依然占据着内存空间，并且不能被再次利用起来，才是闭包。
  >
  > 内存泄漏也不可怕，可怕的是内存泄漏的堆积，会慢慢耗尽系统内存。就像平时用手机一样，内存越用越少。

