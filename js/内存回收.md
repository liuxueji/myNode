现阶段有两种垃圾回收机制：计数和标记清除

> 从2012年起，所有浏览器都使用标记清除法。

- 计数清除法

  - 如果一个对象没有被另一个对象引用，那么它会被垃圾回收机制回收

  - 但是如果对象被引用，那么旧不会被收回，所有容易产生漏洞，例如：

    ```
    function fun(){
        const obj1 = {};
        const obj2 = {};
        obj1.a = obj2;
        obj2.a = obj1;
    }
    ```

    此时，obj1和obj2两个局部变量已经没用了，但是由于它们互相引用，所有它们不会被垃圾回收机制回收。也是被现代浏览器弃用的原因。

- 标记清除法

  - 垃圾回收器定期从根元素出发，找到所有引用根元素的对象，然后再找引用这些对象的对象，依次类推，直到找到最后一个引用。此时，就能分辨出哪些是被引用的对象，哪些是没用被引用的对象，垃圾回收机制会删除没用被引用的对象
  - 如果是上述，你引用我、我引用你的情况，这两个对象不会被标记到，所以会被删除。